---
title: "You can't write VHDL code without an intelligent editor!"
layout: page 
pager: true
author: heeckhau (Sigasi)
date: 2011-08-22
tags: 
  - VHDL
  - Xilinx
---
<div class="content">
<p>Yesterday evening I was reading the <a href="http://issuu.com/xcelljournal/docs/xcell_journal_issue_76?viewMode=magazine&amp;mode=embed" class="elf-external elf-icon">latest edition of the Xilinx Xcell journal</a> and encountered an interesting article about <strong>"How Do I Reset My FPGA"</strong>. This article gives some valuable tips and best practices on how to implement reset structures in <span class="caps">FPGA</span>s. The author also gives a <span class="caps">VHDL</span> code example on how to infer the reset structure of your choice.<br/>To my surprise the author --without doubt an <strong>experienced designer</strong>-- made <strong>multiple <span class="caps">VHDL</span> errors in a simple code snippet</strong>:</p>	<p><span class="inline inline-center"><img src="http://www.sigasi.com/sites/www.sigasi.com/files/images/XcellReset.png" alt="" title="" class="image image-_original " width="640" height="390"/></span></p>	<p>The author marked a part of the example with red, to make it extra clear that you can give a register an initialization value on <span class="caps">FPGA</span>s. But at the same time he puts the <code>=&gt;</code> aggregate arrow in the wrong direction (<code>&lt;=</code>). This is a typical mistake everyone makes from time to time.<br/>If the author would have used an intelligent editor (read: Sigasi), he would never have published this incorrect example. He would immediately have noticed his mistake.</p>	<p>This 10-line snippet even contains even a <strong>second error</strong>: On line 5, a <code>std_logic</code> value is assigned to a <code>std_logic_vector</code>. This should have been:  <span class="geshifilter"><code class="vhdl geshifilter-vhdl"><span style="color: #7f0055; font-weight: bold;">others</span> <span style="color: #000066;">=&gt;</span> '<span style="color: #7d7d7d;">0</span>'</code></span>.</p>	<p>A careful reader might have spotted <strong>even more errors</strong>. <span class="geshifilter"><code class="vhdl geshifilter-vhdl"><span style="color: #7f0055; font-weight: bold;">others</span> <span style="color: #000066;">=&gt;</span> `<span style="color: #7d7d7d;">0</span>'</code></span> is not valid <span class="caps">VHDL</span>. In <span class="caps">VHDL</span> you must use regular single quotes (<span class="geshifilter"><code class="vhdl geshifilter-vhdl">'</code></span>). You can not use the back tick. But this error is probably a mistake from a <span class="caps">VHDL</span>-illiterate typesetter. I added it anyhow, because quite a few <span class="caps">VHDL</span>-newbies <a href="http://stackoverflow.com/questions/6549276/vhdl-errors-in-flipflop-d-code" class="elf-external elf-icon">run into this issue</a>.</p>	<p><em>And while I'm ranting, I would also suggest to use <span class="geshifilter"><code class="vhdl geshifilter-vhdl">rising_edge<span style="color: #000000;">(</span>clk<span style="color: #000000;">)</span></code></span> instead of  <span class="geshifilter"><code class="vhdl geshifilter-vhdl">clk<span style="color: #ff0000;">'event</span> <span style="color: #7f0055; font-weight: bold;">and</span> clk<span style="color: #000066;">=</span>'<span style="color: #7d7d7d;">1</span>'</code></span>. There is also no need for the parenthesis around the IF-conditions in <span class="caps">VHDL</span>.</em></p>	<p>The fact that an experienced <span class="caps">VHDL</span> designer makes so many mistakes in a small (but globally published) <span class="caps">VHDL</span> snippet only proves that typing <span class="caps">VHDL</span> first-time-right is difficult. So you need fast feedback if you do not want to waste time. I do not know any <span class="caps">VHDL</span> designer that would never get into this situation: You fix the (you think) last small bug in your design. Start the simulation script. Go for a drink (because the simulation takes 10 minutes) and come back to see the simulation never even started because you typed a semicolon at the end of your port map&#8230; 10 minutes lost!  Fortunately, today, intelligent editors can help us avoid this waste.</p>	<p>Lets hope most of the readers of the Xilinx XCell Journal have Sigasi installed, so that when they copy the example, they will not lose valuable time waiting for the simulator or synthesizer to report the errors.</p>	<p>Hendrik</p>  </div>

