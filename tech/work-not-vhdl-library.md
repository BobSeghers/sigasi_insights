---
title: "WORK is not a VHDL Library"
layout: page 
pager: true
author: philippe.faes (Sigasi)
date: 2011-02-09
tags: 
  - VHDL
---
<div class="content">
<p>WORK is not the name of a VHDL library. This may surprise some (or even most) VHDL designers, even experienced engineers. Most of the time, nobody gets bothered by this. But on occasion, it can cause great confusion and waste of time.</p><p>All knowledge about VHDL starts with the IEEE Standard VHDL Language Reference Manual. LRM for short. Not much is said about "WORK", but in section 11.2 (in the LRM 1076-2000) you can read the following:<br/><cite><br/>Every design unit [...] is assumed to contain the following implicit context items [...]:<br/><span class="geshifilter"><code class="vhdl geshifilter-vhdl"><span style="color: #7f0055; font-weight: bold;">library</span> STD, WORK<span style="color: #000066;">;</span> <span style="color: #7f0055; font-weight: bold;">use</span> STD.STANDARD.<span style="color: #7f0055; font-weight: bold;">all</span><span style="color: #000066;">;</span></code></span><br/>[...] Library logical name WORK denotes the current working library during a given analysis.<br/></cite></p><p>Let me repeat: <strong>WORK denotes the current working library.</strong> </p><p>This means that there is no library named WORK. Instead, the identifier WORK just refers to the current library. You can compare WORK with the Java concept of <span class="geshifilter"><code class="vhdl geshifilter-vhdl">this</code></span>. In Java <span class="geshifilter"><code class="vhdl geshifilter-vhdl">this</code></span> refers to <em>this</em> object, which obviously is different for each object. This makes me think of a silly joke of man who asks: "is this the second street to the right?"</p><p>Enough silliness. Much confusion comes from the fact that VHDL tools allow you to give the name "WORK" to a library:<br/><div class="geshifilter"><pre class="vhdl geshifilter-vhdl" style="font-family:monospace;">vlib workvcom -work work myfile.vhd</pre></div></p><p><span class="inline inline-right"><a href="http://www.sigasi.com/sites/www.sigasi.com/files/images/Screenshot-VHDL - tickets-p2.vhd - Sigasi -1.png" onclick="launch_popup(864, 847, 625); return false;" target="_blank"><img src="http://www.sigasi.com/sites/www.sigasi.com/files/images/Screenshot-VHDL - tickets-p2.vhd - Sigasi -1.img_assist_custom-320x236.png" alt="WORK is not a VHDL Library" title="WORK is not a VHDL Library" class="image image-img_assist_custom-320x236 " width="320" height="236"/></a><span class="caption" style="width: 318px;"><strong>WORK is not a VHDL Library</strong></span></span>That is as crazy as having a street address of <em>John Doe, Ourstreet, MyHomeTown</em>. How will your mail ever get there? And that is exactly the problem with using WORK as a library name. Other libraries cannot refer to you. If another library (say <span class="geshifilter"><code class="vhdl geshifilter-vhdl">alex</code></span>) they would refer to <span class="geshifilter"><code class="vhdl geshifilter-vhdl">work.yourpackage.<span style="color: #7f0055; font-weight: bold;">all</span></code></span>, the VHDL analyser would read this as the <span class="geshifilter"><code class="vhdl geshifilter-vhdl">alex.yourpackage.<span style="color: #7f0055; font-weight: bold;">all</span></code></span>.</p><p>It would have been better if VHDL tools would refuse the explicit name of WORK for a library. It would have been better if WORK were a reserved keyword in VHDL. But hey, there is no way to change that now. The best you can do is be aware of this idiosyncrasy in VHDL and live with it. Preferably by avoiding WORK all together.</p>  <div id="book-navigation-1518" class="book-navigation">            <div class="page-links clear-block">              <a href="/content/vhdl-case-statements-can-do-without-others" class="page-previous" title="Go to previous page">&#8249; VHDL case statements can do without the "others"</a>                    <a href="/content/vhdl-tips-tricks" class="page-up" title="Go to parent page">up</a>                    <a href="/content/design-creation" class="page-next" title="Go to next page">Design Creation &#8250;</a>          </div>      </div>  </div>

