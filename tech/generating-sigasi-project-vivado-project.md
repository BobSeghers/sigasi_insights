---
title: "Generating a Sigasi project from a Vivado project"
layout: page 
pager: true
author: heeckhau (Sigasi)
date: 2015-06-30
tags: 
  - hdt-2.0
  - Vivado
  - Xilinx
---
<div class="content">
<p>I have blogged before on how to <a href="http://www.sigasi.com/content/importing-xilinx-ise-project-sigasi">import Xilinx <span class="caps">ISE</span> projects</a> in Sigasi before. In this blog post I show how you can import an existing Vivado project into Sigasi.</p>	<p>If you have a Vivado project which uses one or more IP cores, the project becomes complex quickly. Vivado generates different sources for <em>Simulation</em> and <em>Synthesis</em>. And although <span class="caps">VHDL</span> has elegant support for this &#8211;entities can have multiple architectures&#8211;, Vivado generates duplicate entities instead. This forces you to switch between two complete different views on your project. If you have multiple IP cores this is really annoying.</p>	<p>To make it easier to use Sigasi in combination with Vivado projects, we added a Vivado tcl script to our <a href="https://github.com/sigasi/SigasiProjectCreator" class="elf-external elf-icon">SigasiProjectCreator Github project</a> . This Vivado <a href="https://github.com/sigasi/SigasiProjectCreator/blob/master/convertVivadoProjectToCsv.tcl" class="elf-external elf-icon">tcl script</a> creates a list of all <span class="caps">HDL</span> source files in your Vivado project and writes this list together with the <span class="caps">HDL</span> library name to a <span class="caps">CSV</span>-file. This <span class="caps">CSV</span>-file can be converted to a Sigasi project with the existing <a href="https://github.com/sigasi/SigasiProjectCreator/blob/master/convertCsvFileToTree.py" class="elf-external elf-icon">convertCsvFileToTree.py</a> script:</p>	<h2>How to generate a Sigasi project from a Vivado project?</h2>	<h3>1. Extract a list of source files from your Vivado project with <span class="caps">TCL</span>:</h3>	<p/><div class="geshifilter"><pre class="vhdl geshifilter-vhdl" style="font-family:monospace;">vivado -mode batch -source ~/git/SigasiProjectCreator/convertVivadoProjectToCsv.tcl project_1.xpr</pre></div><br/>This <span class="caps">TCL</span> scripts creates a file <code>vivado_files.csv</code> which contains a list of <span class="caps">VHDL</span> and Verilog source files and their library information. When you inspect the source of <a href="https://github.com/sigasi/SigasiProjectCreator/blob/master/convertVivadoProjectToCsv.tcl" class="elf-external elf-icon">this <span class="caps">TCL</span> script</a>, you will see that we filter for <em>Simulation</em> source files only. You can switch to synthesis by replacing <code>USED_IN_SIMULATION</code> with <code>USED_IN_SYNTHESIS</code>.	<h3>2. Generate the Sigasi project files from the csv-files</h3>	<p/><div class="geshifilter"><pre class="vhdl geshifilter-vhdl" style="font-family:monospace;">~/git/SigasiProjectCreator/convertCsvFileToTree.py project_1 vivado_files.csv</pre></div><br/>This scripts generates the <code>.project</code> and <code>.library_mapping.xml</code> files that define the Sigasi project.	<h2>Notes</h2>	<p>When you make changes to your Vivado project, you need to re-run this script. Take care that you also regenerate the <span class="caps">VHDL</span> and Verilog sources of your IP cores when you make changes. Vivado does this lazily.</p>	<p>Note that Sigasi cannot decrypt the <strong>encrypted</strong> Xilinx IP cores. For some IP cores, even the interface (for example, the entity declaration) is encrypted. Since we do not have permission to decrypt this, you may see some <em>unknown declaration errors</em> in your designs.</p>  <div id="book-navigation-1518" class="book-navigation">            <div class="page-links clear-block">              <a href="/content/adding-custom-code-checkers-your-project" class="page-previous" title="Go to previous page">&#8249; Adding custom code checkers to your project</a>                    <a href="/content/sigasi-how" class="page-up" title="Go to parent page">up</a>                    <a href="/content/importing-xilinx-ise-project-sigasi" class="page-next" title="Go to next page">Importing a Xilinx ISE project in Sigasi &#8250;</a>          </div>      </div>  </div>

